"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[998],{433:function(e,n,t){t.d(n,{o:function(){return c}});var r=t(184),c=function(e){var n=e.message;return(0,r.jsx)("b",{children:n})}},998:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var r,c,a,i=t(885),s=t(731),o=t(689),u=t(791),p=t(635),d=t(433),f=t(168),h=t(444),l=h.ZP.li(r||(r=(0,f.Z)(["\n  &&: not(: last-child) {\n    margin-bottom: 8px;\n  }\n"]))),v=h.ZP.span(c||(c=(0,f.Z)(["\n  &&: not(: last-child) {\n    margin-right: 8px;\n  }\n"]))),x=h.ZP.img(a||(a=(0,f.Z)(["\n  margin-top: 16px;\n"]))),m=t(184),j=function(){var e,n,t=(0,u.useState)([]),r=(0,i.Z)(t,2),c=r[0],a=r[1],f=(0,u.useState)("idle"),h=(0,i.Z)(f,2),j=h[0],g=h[1],w=(0,u.useState)(null),Z=(0,i.Z)(w,2),k=Z[0],b=Z[1],_=(0,o.UO)().movieId,y=null!==(e=null===(n=(0,o.TH)().state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/";(0,u.useEffect)((function(){(0,p.ts)(_).then((function(e){var n=e.data;a(n),g("resolved")})).catch((function(e){b(e),g("rejected")}))}),[_]);var P=c.poster_path,S=c.original_title,U=c.overview,C=c.genres,G=c.vote_average,I=c.release_date;return(0,m.jsxs)("div",{children:["rejected"===j&&(0,m.jsx)(d.o,{message:k.message}),"resolved"===j&&(0,m.jsxs)("div",{children:[(0,m.jsx)(s.rU,{to:y,children:"Go back"}),(0,m.jsx)(x,{src:"https://image.tmdb.org/t/p/w500/".concat(P),width:"189",height:"255",alt:S}),(0,m.jsx)("h2",{children:"".concat(S," (").concat(I.slice(0,4),")")}),(0,m.jsx)("p",{children:"User Score: ".concat(Math.round(10*G),"%")}),(0,m.jsx)("h3",{children:"Overview"}),(0,m.jsx)("p",{children:U}),(0,m.jsx)("h4",{children:"Genres"}),(0,m.jsx)("p",{children:C.map((function(e,n){return(0,m.jsxs)(v,{children:[e.name,"/ "]},n)}))}),(0,m.jsxs)("ul",{children:[(0,m.jsx)(l,{children:(0,m.jsx)(s.rU,{to:"cast",state:{from:y},children:"Cast"})}),(0,m.jsx)(l,{children:(0,m.jsx)(s.rU,{to:"reviews",state:{from:y},children:"Reviews"})})]})]}),(0,m.jsx)(u.Suspense,{fallback:(0,m.jsx)("div",{children:"Loading..."}),children:(0,m.jsx)(o.j3,{})})]})}},635:function(e,n,t){t.d(n,{JS:function(){return u},Ku:function(){return d},Q_:function(){return h},fI:function(){return f},ts:function(){return p}});var r=t(861),c=t(757),a=t.n(c),i=t(44),s="https://api.themoviedb.org/3/",o="0322adb5b7f04b7c7a36cb76430c0728",u=function(){var e=(0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get("".concat(s,"/trending/movie/day?api_key=").concat(o));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get("".concat(s,"movie/").concat(n,"?api_key=").concat(o));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get("".concat(s,"movie/").concat(n,"/credits?api_key=").concat(o));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get("".concat(s,"movie/").concat(n,"/reviews?api_key=").concat(o));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.ZP.get("".concat(s,"/search/movie?api_key=").concat(o,"&query=").concat(n,"&page=1"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=998.d5cc52c9.chunk.js.map